<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Easy</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/carrito.css" />
    <!-- <link rel="stylesheet" href="css/modal.css"/> -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    $( function() {
      var dateFormat = "mm/dd/yy",
        from = $( "#from" )
          .datepicker({
            defaultDate: "+1w",
            changeMonth: true,
            numberOfMonths: 3
          })
          .on( "change", function() {
            to.datepicker( "option", "minDate", getDate( this ) );
          }),
        to = $( "#to" ).datepicker({
          defaultDate: "+1w",
          changeMonth: true,
          numberOfMonths: 3
        })
        .on( "change", function() {
          from.datepicker( "option", "maxDate", getDate( this ) );
        });
   
      function getDate( element ) {
        var date;
        try {
          date = $.datepicker.parseDate( dateFormat, element.value );
        } catch( error ) {
          date = null;
        }
   
        return date;
      }
    } );
    </script>
  </head>
  <body>
    <div class="wrapper d-flex align-items-stretch">
      <nav id="sidebar" class="">
        <h1><a href="index.html" class="logo"><img src="images/logoEasyGanador.jpeg" style="height: 80px; width: 80px;" alt=""></a></h1>
        <ul class="list-unstyled components mb-5">
          <div class="accordion"  id="accordionExample">
            <div class="card" style="background-color: #b21d19;">
              <div class="card-header" id="headingCero" >
                <h2 class="mb-0">
                  <a href="index.html" class="collapsed" style="font-size: large; color: white;"><span class="fa fa-home pl-0"></span> Home</a>
                </h2>
              </div>
            </div>
            <div class="card" style="background-color: #b21d19;" id="divUsuario">
              <div class="card-header" id="headingOne" >
                <h2 class="mb-0">
                  <a href="#" class="collapsed" style="font-size: large; color: white;" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne"><span class="fa fa-user"></span> Usuarios</a>
                </h2>
              </div>
          
              <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body" style="background-color: #af271d;">
                  <div class="mb-3">
                    <a href="registroUsuario.html" style="color: white;font-size: 16px;"><span class="fa fa-user"></span> Registro Usuario</a>
                  </div>
                  <div>
                    <a href="listadoUsuarios.html" style="color: white;font-size: 16px;"><span class="fa fa-list-ul"></span> Listado Usuarios</a>
                  </div>
                   
                  
                </div>
              </div>
            </div>
            <div class="card" style="background-color: #b21d19;" id="divClientes">
              <div class="card-header" id="headingTwo">
                <h2 class="mb-0">
                  <a href="#" class="collapsed" style="font-size: large; color: white;" data-toggle="collapse" data-target="#collapseTwo"><span class="fa fa-cc-amex"></span> Clientes</a>
                </h2>
              </div>
              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                <div class="card-body" style="background-color: #af271d;">
                  <div class="mb-3" id="divRegistroCliente">
                    <a href="registoClientes.html" style="color: white;font-size: 16px;"><span class="fa fa-user"></span> Registro Cliente</a>
                  </div>
                  <div class="mb-3" id="divModificarCliente">
                    <a href="modificarCliente.html" style="color: white;font-size: 16px;"><span class="fa fa-pencil"></span> Modificar Datos</a>
                  </div>
                  <div id="divListadoCliente">
                    <a href="listadoClientes.html" style="color: white;font-size: 16px;"><span class="fa fa-list-ul"></span> Listado Clientes</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="card" style="background-color: #b21d19;" id="divProductos">
              <div class="card-header" id="headingThree">
                <h2 class="mb-0">
                  <a href="#" class="collapsed" style="font-size: large; color: white;" data-toggle="collapse" data-target="#collapseThree"><span class="fa fa-shopping-cart"></span> Productos</a>
                </h2>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                <div class="card-body" style="background-color: #af271d;">
                  <div class="mb-3" id="divRegistroProducto">
                    <a href="registroProducto.html" style="color: white;font-size: 16px;"><span class="fa fa-tags"></span> Registro Producto</a>
                  </div>
                  <div class="mb-3" id="divListadoProducto">
                    <a href="listadoProductos.html" style="color: white;font-size: 16px;"><span class="fa fa-list-ul"></span> Listado Productos</a>
                  </div>
                  <div>
                    <a href="CatalogoProductos.html" style="color: white;font-size: 16px;"><span class="fa fa-th-large"></span> Ver Catálogo</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="card" style="background-color: #b21d19;" id="divReporte">
              <div class="card-header" id="headingFour">
                <h2 class="mb-0">
                  <a href="#" class="collapsed" style="font-size: large; color: white;" data-toggle="collapse" data-target="#collapseFour"><span class="fa fa-bar-chart"></span> Reportes</a>
                </h2>
              </div>
              <div id="collapseFour" class="collapse"  aria-labelledby="headingThree" data-parent="#accordionExample">
                <div class="card-body" style="background-color: #af271d;">
                  <!-- <div class="mb-3">
                  <a href="reportes.html" style="color: white;font-size: 16px;"><span class="fa fa-line-chart"></span> Reporte 1</a>
                </div> -->
                <div class="mb-3">
                  <a href="reporte2.html" style="color: white;font-size: 16px;"><span class="fa fa-bar-chart"></span> Facturación Mensual</a>
                </div>
                <div>
                  <a href="reporte3.html" style="color: white;font-size: 16px;"><span class="fa fa-pie-chart"></span> Formas de Pago más utilizadas</a>
                </div>
                </div>
              </div>
            </div>
          </div>

        </ul>
      </nav>

      <!-- Page Content  -->
      <div id="content" class="p-md-2">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
              <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <i class="fa fa-bars"></i>
              </button>
  
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav navbar-nav ml-auto">
                  <li class="nav-item active mt-1" style="color: #b21d19;">
                    <i class="fa fa-shopping-cart fa-2x" aria-hidden="true"></i>
                  </li>
                  <li class="nav-item">
                    <a href="carritoCompras.html" class="nav-link"> Carrito de compras</a>
                </li>
                <li class="nav-item active mt-1" style="color: #b21d19;">
                  <i class="fa fa-user fa-2x" aria-hidden="true"></i>
                </li>
                <li class="nav-item" id="ingreso" >
                  <a href="login2.html" class="nav-link"> Ingresar</a>
               </li>
               <li class="nav-item" id="divBienvenido" >
                <p id="bienvenido" class="mt-2 ml-2"></p>
               </li>
               <li id="divSalir" class="nav-item active mt-1 ml-2" style="color: #b21d19;">
                <i class="fa fa-sign-out fa-2x" aria-hidden="true"></i>
               </li>
               <li class="nav-item" id="divSalirText" >
                <a href="index.html" id="salir" class="nav-link">Salir</a>
               </li>
                </ul>
              </div>
            </div>
          </nav>

        <!-- <div>
          <img
            src="https://media.easy.com.ar/is/image/EasyArg/header_seguridadinformatica"
            class="mb-3"
            style="width: 100%"
            alt=""
          />
        </div> -->

        
        <button id="btnCrearPdf" style="margin-left: 21%;">Imprimir</button>
        <div class="container mt-3" id="pdf" >
            <h6 style="margin-left: 20%;">Total facturado por mes en el Año <input type="text" value="2021"></h6>
            
            <div class="card" style="width: 40rem; margin-left: 20%;">
                <div class="card-body">
                  
                    <canvas id="myChart" width="800" height="600"></canvas>
                </div>
              </div>
            
            

            
        </div>

        






        <!-- Footer -->
        <footer class="page-footer font-small darken-3 mt-3" style="background-color: #d3d3d3;">

          <!-- Footer Elements -->
          <div class="container">

            <!-- Grid row-->
            <div class="row">

              <!-- Grid column -->
              <div class="col-md-12 py-5">
                <div class="mb-5 d-flex justify-content-center">

                  <!-- Facebook -->
                  <a class="fb-ic" target="_blank" href="https://www.facebook.com/easyargentina">
                    <i class="fa fa-facebook fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
                  </a>
                  <!-- Twitter -->
                  <a class="tw-ic" target="_blank" href="https://twitter.com/EasyArg">
                    <i class="fa fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
                  </a>
                  <!-- Google +-->
                  <a class="gplus-ic" target="_blank" target="_blank" href="https://www.youtube.com/channel/UC4S-b0kYlcd1WdWxvErWuvA">
                    <i class="fa fa-youtube fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
                  </a>
                  <!--Instagram-->
                  <a class="ins-ic" target="_blank" href="https://www.instagram.com/easyargentina/?hl=es">
                    <i class="fa fa-instagram fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
                  </a>
                  <!--Pinterest-->
                  <a class="pin-ic" target="_blank" href="https://ar.pinterest.com/easyargentina/_created/">
                    <i class="fa fa-pinterest fa-lg white-text fa-2x"> </i>
                  </a>
                </div>
              </div>
              <!-- Grid column -->

            </div>
            <!-- Grid row-->

          </div>
          <!-- Footer Elements -->

          <!-- Copyright -->
          <div class="text-center py-3" style="background-color: #808080; color: white;">© 2020 Copyright:
            <a href="https://mdbootstrap.com/" style="color: white;"> MDBootstrap.com</a>
          </div>
          <!-- Copyright -->

        </footer>
        <!-- Footer -->
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js"></script>

    <script>

document.addEventListener("DOMContentLoaded", function(event) { 
    
    let objetoCliente = localStorage.getItem("Cliente");
    console.log(JSON.parse(objetoCliente));


    let divUsuario = document.getElementById('divUsuario');
    let divReporte = document.getElementById('divReporte');
    let divCliente = document.getElementById('divClientes');
    let divProducto = document.getElementById('divProductos');
    let divRegistroCliente = document.getElementById('divRegistroCliente');
    let divListadoCliente = document.getElementById('divListadoCliente');
    let divRegistroProducto = document.getElementById('divRegistroProducto');
    let divListadoProducto = document.getElementById('divListadoProducto');
    let divModificarCliente = document.getElementById('divModificarCliente');
    let divSalir = document.getElementById('divSalir');
    let divSalirText = document.getElementById('divSalirText');

    let ingreso = document.getElementById('ingreso');  
    let bienvenido = document.getElementById('bienvenido');

    if (objetoCliente !== null) {
        // if (JSON.parse(objetoCliente).nombreUsuario !== null && JSON.parse(objetoCliente).nombreUsuario !== undefined) {
        //     divUsuario.style.display = "none";
        //     divReporte.style.display = "none";
        //     divModificarCliente.style.display = "none";
        //     divListadoCliente.style.display = "none";
        //     divListadoProducto.style.display = "none";
        //     divRegistroProducto.style.display = "none";
        //     divSalir.style.display = "none";
        //     divSalirText.style.display = "none";
        // }
        if (JSON.parse(objetoCliente).rol === 'cliente') {
            divUsuario.style.display = "none";
            divReporte.style.display = "none";
            divRegistroCliente.style.display = "none";
            divListadoCliente.style.display = "none";
            divListadoProducto.style.display = "none";
            divRegistroProducto.style.display = "none";
            ingreso.style.display = "none";
            console.log(bienvenido.value);
            bienvenido.innerText = 'Bienvenido/a ' + JSON.parse(objetoCliente).nombreCliente;
        }else if(JSON.parse(objetoCliente).rol === 'admin'){
            ingreso.style.display = "none";
            bienvenido.innerText = 'Bienvenido/a ' + JSON.parse(objetoCliente).nombreCliente;
        }else if (JSON.parse(objetoCliente).rol === 'encargado') {
            divUsuario.style.display = "none";
            divReporte.style.display = "none";
            divCliente.style.display = "none";
            ingreso.style.display = "none";
            bienvenido.innerText = 'Bienvenido/a ' + JSON.parse(objetoCliente).nombreCliente;
        }
        else if (JSON.parse(objetoCliente).rol === 'gerente') {
            divUsuario.style.display = "none";
            divProducto.style.display = "none";
            divCliente.style.display = "none";
            ingreso.style.display = "none";
            bienvenido.innerText = 'Bienvenido/a ' + JSON.parse(objetoCliente).nombreCliente;
        }
    }else{
            divUsuario.style.display = "none";
            divReporte.style.display = "none";
            divModificarCliente.style.display = "none";
            divListadoCliente.style.display = "none";
            divListadoProducto.style.display = "none";
            divRegistroProducto.style.display = "none";
            divSalir.style.display = "none";
            divSalirText.style.display = "none";
    }
    
    





});

salir.addEventListener('click', cerrarSesion);

    function cerrarSesion(){
        localStorage.removeItem('Cliente');
    }

        

        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio','Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                datasets: [{
                    label: 'Facturación Mensual',
                    data: [2500458, 2896254, 3144221.47, 3320402, 2612874, 2900359, 3200000.05,4158746.25,3400550, 5320481,2600000,4574569],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.5)',
                        'rgba(54, 162, 235, 0.5)',
                        'rgba(255, 206, 86, 0.5)',
                        'rgba(75, 192, 192, 0.5)',
                        'rgba(153, 102, 255, 0.5)',
                        'rgba(255, 159, 64, 0.5)',
                        'rgba(60, 64, 67, 0.5)',
                        'rgba(106, 10, 14, 0.5)',
                        'rgba(255, 206, 86, 0.5)',
                        'rgba(172, 28, 24, 0.5)',
                        'rgba(153, 102, 255, 0.5)',
                        'rgba(255, 159, 64, 0.5)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)',
                        'rgba(60, 64, 67, 1)',
                        'rgba(106, 10, 14, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(172, 28, 24, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
        </script>

        
      </div>
    </div>

    <!-- <script src="js/jquery.min.js"></script> -->
    <script src="js/popper.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/formaPago.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
      // Escuchamos el click del botón
      const $boton = document.querySelector("#btnCrearPdf");
      $boton.addEventListener("click", () => {
        const $elementoParaConvertir = document.getElementById('pdf'); // <-- Aquí puedes elegir cualquier elemento del DOM
        html2pdf()
            .set({
                margin: 1,
                filename: 'documento.pdf',
                image: {
                    type: 'jpeg',
                    quality: 0.98
                },
                html2canvas: {
                    scale: 3, // A mayor escala, mejores gráficos, pero más peso
                    letterRendering: true,
                },
                jsPDF: {
                    unit: "in",
                    format: "a3",
                    orientation: 'landscape' // landscape o portrait
                }
            })
            .from($elementoParaConvertir)
            .save()
            .catch(err => console.log(err));
    });
    });
    </script>
    
  </body>
</html>






















